## em과 rem
`em`: 부모요소에게 영향을 받음
`rem`: 최상단 부모요소(html)에 영향을 받음

만약 `em`에서 부모요소의 폰트 사이즈가 `12px`이라면, `1em`은 `12px`이다. `2em`은 `24px`이다.

`rem`은 html에서 지정된 폰트 사이즈 값을 영향받는다. html 태그에 폰트 사이즈가 `16px`로 지정되어 있다면 `1rem`은 `16px`, `2rem`은 `32px`이다. 

### rem: 실습
![image](https://user-images.githubusercontent.com/49024995/118573674-fad69180-b7bd-11eb-858c-5913735779cf.png)
body의 폰트사이즈가 `16px`일때,

![image](https://user-images.githubusercontent.com/49024995/118573707-0c1f9e00-b7be-11eb-992d-5ba8ecd510a5.png)
padding으로 `3rem`을 지정해주면,

![image](https://user-images.githubusercontent.com/49024995/118573728-16419c80-b7be-11eb-8802-f1f3db1d0d7a.png)
`1rem`==`16px`이므로 `48px`로 값이 확인된다. (F12의 computed에서 확인할 수 있다.)

### em: 실습
![image](https://user-images.githubusercontent.com/49024995/118574195-e34bd880-b7be-11eb-86a1-827bf5f3c298.png)
body의 폰트사이즈가 `18px`이지만,

![image](https://user-images.githubusercontent.com/49024995/118574260-02e30100-b7bf-11eb-9542-1ea8a9e81c53.png)
section의 폰트사이즈가 `30px`이므로 `3em`을 적용하면,

![image](https://user-images.githubusercontent.com/49024995/118574302-1a21ee80-b7bf-11eb-8b23-65f321e18b7f.png)
`3em`==`90px`이 적용된다.

### em/rem 정리
`em`과 `rem`은 모두 유연한 가변 단위이다. 설정된 폰트크기에 따라 브라우저에 의해 픽셀값으로 변환된다.
만약 `1em`이나 `1rem`을 지정했다면 브라우저에 의해 `16px`부터 `160px`까지, 이외 다양한 값으로 변환될 수 있다. 

두 단위의 차이점을 정리해서 보자면 아래와 같다.

- rem 단위의 픽셀값 변환
  html 요소의 폰트 크기에 따라 결정됨. 상속에 구애받지 않는 절대 단위를 지정해 덮어 씌우지 않는 이상, 브라우저에 설정된 폰트 크기를 그대로 상속받음
- em 단위의 픽셀값 변환
  사용된 상위 요소의 폰트 크기에 따라 결정됨. 이 또한 상속에 구애 받지 않는 절대 단위를 명시적으로 덮어씌우지 않으면, 상위 요소로부터 상속의 영향을 받는다.

## px
px은 절댓값이다. `1px`은 항상 정확한 `1px`로 표시된다.

## px대신 rem을 선택하는 이유
브라우저에 폰트 크기는 사용자가 조정할 수 있다. 맨 꼭대기에 있는 html 요소의 폰트 사이즈는 고정값을 명시적으로 지정해서 덮어씌우지 않았다면, 브라우저에 설정된 값을 상속받게 된다.

`rem`을 사용하는 이유는 단지 상속 특성에 상관없이 일관된 크기를 반환하는 이유가 아니다. `rem`은 사용자가 설정한 폰트 크기에 따라 구성 요소가 적절하게 반응하는 길을 제공하는게 가장 큰 이유다.

`rem`단위를 사용하면 사용자가 폰트 크기를 늘리더라도 레이아웃은 온전히 보전된다. 텍스트가 빡빡한 공간 안에 찌그러지는 불상사가 일어나지 않는다. 사용자가 폰트 크기를 줄여도 전체 레이아웃은 함께 줄어들고, 아주 작은 텍스트가 여백의 낭비된 공간에 듬성듬성 채워지는 불상사가 생기지 않는다.

## 주의사항
html 요소의 font-size로 고정된 px단위를 지정해서 작업하면, 브라우저에 설정한 폰트 크기를 html 요소가 무시하게 만드는 방법이다. 이는 사용자 설정을 무시하게 된다. 만약 폰트 크기를 설정하고 싶다면 em이나 rem값으로 지정해 브라우저의 폰트 크기와 일정 비율로 계속 유지할 수 있도록 해야한다.

> 이렇게 해도 html 요소의 폰트 크기를 바꿔가면서 디자인을 확대하거나 축소할 수 있고, 동시에 사용자의 브라우저 설정값이 가진 효과도 계속 유지될 수 있습니다.

## 브라우저의 폰트 사이즈에 따라 달라지는 레이아웃 
궁금해서 크롬 브라우저의 폰트 사이즈를 직접 변경해봤는데, mdn의 경우 폰트 사이즈가 아래와 같이 적용되어 있었다.
```css
body {
  font-family: arial,x-locale-body,sans-serif;
  letter-spacing: -.0027777778rem;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-size: 100%;
  line-height: 1.75;
}
```
`font-size: 100%`는 사용자 설정에 따라 폰트사이즈를 렌더링 한다는 의미다.

폰트 사이즈 기본 (16px)
![image](https://user-images.githubusercontent.com/49024995/118592187-87924700-b7e0-11eb-8a06-25fd9f4771d9.png)
![image](https://user-images.githubusercontent.com/49024995/118592288-b3adc800-b7e0-11eb-8363-f20ce1563405.png)

폰트 사이즈 크게 (24px)
![image](https://user-images.githubusercontent.com/49024995/118592143-70535980-b7e0-11eb-9ae2-9cceff417fdf.png)
![image](https://user-images.githubusercontent.com/49024995/118592255-a85a9c80-b7e0-11eb-8ad5-8cdcc56f9524.png)

그런데 개발자 도구로 사이트 구조를 살펴봤을때, `px`과 `rem`을 섞어 사용했었다. 예를 들어 `max-width: 32px` 이런식인데,  
```css
@media (min-width: 47.9385em)
h1 {
  font-size: 3.052rem;
}
```
이렇게 `em`과 `rem`이 섞여 있기도 했다. 아마 절대적인 단위는 `px`로 처리하고, font-size같이 브라우저에 따라 유동적이여야 하는 단위는 `em`과 `rem`으로 계산을 하는 듯 했다.

이외에도 다양한 웹사이트 (드리블, 깃헙 등)를 찾아봤는데, 전부 body 태그에 font-size를 `px`값으로 지정한 경우가 대부분이었다. 위에서는 사용자의 설정에 따라 유동적인 값을 보여줄때 `rem`이나 `em`을 사용한다고 했는데, font-size를 `px`로 지정한뒤 요소의 단위값을 `rem`을 사용하는 경우는 왜인지 궁금해졌다. 

### 다시, px대신 em과 rem을 쓸때의 장점

찾아본 정보에 의하면,
> 보통 글씨 크기 등을 할 때 px로 작업을 하는 경우가 많은데 만약 작업을 하는 화면이 uhd로 해상도가 상당이 높다면 이걸 기준으로 작업 했을 때 다른 FHD 화면에서는 글씨가 엄청 크게 보일 수 있는 현상이 생김 

> 보통 최신 OS 에서는 고정밀 해상도인 모니터의 경우 보기 좋은 해상도로 다운스케일링 합니다. (예: 4K일 경우 OS 에서는 권장 해상도를 4K 원본인 3840×2160 대신 절반인 1920x1080 으로 설정하며, 모니터에 따라 스케일링 조절이 다를 수 있음) 대신 텍스트 같은 것들이 정밀하게 표현되겠죠. 그래서 px 써도 큰 문제는 없습니다. 즉, 모니터 크기 등에 따른 물리적인 (눈대중이나 실제 자로 쟀을 때) 크기 차이가 있을 수 있어도 표현하는 크기에 차이는 없어요. 게다가 브라우저 기본 폰트 크기도 px 쓰니까요.
하지만 왜 상대 단위인 em 또는 rem 을 추천하냐면, 네. 말씀하신 것에 관련 있기도 하지만, 손쉬운 측정으로 가독성 확보에 큰 이점이 있습니다. 일일이 px 로 큰 글씨나 작은 글씨를 정의하는 것보다, 기준 크기를 px 등으로 정하고, 큰 글씨는 2rem, 작은 글씨는 0.8rem 이런 식으로 하면 다른 개발자도 알아보기 쉽고 익숙해지면 안 봐도 비디오일 정도로 예측이 가능하여 손쉽게 가독성을 확보할 수 있습니다.

> 데스크탑, 모바일, 태블릿 등 다양한 모바일장치의 가로 규격에 맞게 글자 크기가 적용됨. 컴퓨터 웹사이트 폰트가 모바일에서 깔끔하게 보이기위해서는 px을 버려야함. 만약 고객이 웹사이트의 폰트 크기가 너무 작아서 조금씩 키워달라고 요청할 경우, px를 사용했다면 일일히 찾아서 수정해야하므로 굉장히 번거롭고 정신건강에 매우 해로움. 하지만 rem이나 em을 사용했다면 기준이 되는 폰트 크기 하나만 키우면 끝남.

또, 반응형 대응시에도 굉장히 편리하다.
```scss
html { font-size: 62.5%; }
.image { width: 12rem; } //120px
.item { font-size: 1.6rem; } //16px
.copyright { margin-top: 5rem; } //50px
 
@media all and (max-width: 750px) {
  html { font-size: 50%; } // 이제 문서 내 모든 rem 단위가 영향을 받습니다.
}
```
이런식으로 `rem`으로 단위를 설정한 뒤, 브레이크포인트에 부모의 font-size만 변경해주면 요소들의 값이 전부 변하니까 쉽게 대응할 수 있다고 한다.

정리하자면, `em`과 `rem`을 쓰면 1. 해상도 측면에서 이득 2. 유지보수 관점에서 이득 3. 반응형 대응에 쉬움 이라고 볼 수 있겠다. 위에서 언급한 브라우저의 폰트 사이즈에 따라 상대적으로 달라진다 라는 장점도 있지만, 다시 정리한 3가지 장점이 더욱 큰 것 같다.

그런데 검색 결과 margin / padding는 rem으로 할 경우 의도치 않은 문제가 발생한다고 한다. 크롬에서 폰트사이즈와 화면을 확대/축소 할 수 있는 설정이 있는데 이렇게 되면 단순히 폰트 크기만 변경 했을 뿐인데 margin / padding 값이 커져서 데스크탑에서 모바일화면으로 보게 되는 현상이나, 의도하지 않았지만 확대한거처럼 보이는 현상이 발생 할 수 있다고 한다. 

절대적으로 `rem`과 `em`을 사용하기 보단 유도리 있게 `px`를 쓰는게 중요한 것 같다.

## rem vs em vs px
### em을 써야할 때
> 최상위 요소 말고 기타 다른 특정 요소의 font-size를 기준으로 그 크기가 바뀌어야 하는 곳에 사용

웬만하면 폰트 크기로 `em`을 사용하지 않는게 좋다고 한다. 

> 일반적으로 폰트 크기를 지정할 땐 rem 단위를 쓰고, 특별한 상황에서만 em 단위를 쓰시면 되겠습니다.

### rem을 사용할 때
> 브라우저에 설정 된 폰트 크기에 따라 그 크기가 변하는 모든곳에 사용

이때 처음부터 `rem`을 사용하는것 보단 `px`로 레이아웃을 생각하고, 후에 `rem`으로 환산하는게 더욱 쉽다고 한다.

또, 미디어 쿼리를 사용할 때도 `rem`을 사용하는게 좋다고 한다. 

### px
절대적으로 바뀌지 않아야 하는 값에 사용하도록 하자.

### em과 rem을 쓰지 말아야 할 곳
**다중 칼럼 레이아웃의 너비**
(아마 grid 시스템을 이야기하는 듯 합니다.)
다중 칼럼은 보통 % 기반의 단위를 쓰도록 해서 예상치 못한 화면 크기에도 유동적으로 반응하게 해야 한다.
```css
/* NO! */
.container {
  width: 100rem;
  max-width: 75rem;
}

/* YES! */
.container {
  width: 100%;
  max-width: 75rem;
}
```
예를 들어 이렇게 하면 칼럼의 크기는 유동적으로 변하지만, 그 안에 있는 글이 읽기 불편할 정도로 너무 넓어지는 것도 막을 수 있다. 

## 최종 정리
1. `rem`은 최상위(html)요소의 폰트값으로 값 지정, html에서 font size가 16px일시 1rem=6px
2. `em`은 부모 요소의 폰트값으로 값이 지정, html에서 font size가 16px이고, 한 단계 부모 요소에서 font size가 14px이면 1em은 14px이 됨.
3. `px`은 절댓값, 변하지 않음.
4. 사용자가 브라우저의 폰트 사이즈의 변경에도 대응하려면 `rem`이랑 `em`쓰도록 하자.
5. 반응형(미디어 쿼리), 다양한 해상도 대응과 유지보수 측면에서 보면 `rem`쓰는게 좋음
6. margin이랑 padding은 값이 가변적일 경우 레이아웃이 깨지는 문제가 있어 적절히 판단해서 써야함.
7. 그리드 시스템 설계시에는 예외적인 값에 대응하기 위해 `rem`이나 `em`보다는 `%`로 값을 지정하자.

## 🔗 Refer
https://webdesign.tutsplus.com/ko/tutorials/comprehensive-guide-when-to-use-em-vs-rem--cms-23984?fbclid=IwAR1Ukt5X4A2voOvX4398kgvDsWMZuLQC7FPZPSLCw1U1cKkmtiXbvSuJk4I
https://yeoninim.tistory.com/38
https://simsimjae.medium.com/%ED%81%AC%EB%A6%AC%EC%8A%A4%EB%A7%88%EC%8A%A4%EC%97%90-%EC%BD%94%EB%94%A9%ED%95%98%EA%B3%A0-%EC%9E%88%EB%8A%94-%EB%82%B4-%EC%9D%B8%EC%83%9D%EC%9D%B4-%EB%A0%88%EC%A0%84%EB%93%9C-%EA%B0%99%EC%A7%80%EB%A7%8C-%EC%98%A4%EB%8A%98%EB%8F%84-%EB%8B%AC%EB%A6%B0%EB%8B%A4-96f79ee41464
https://nykim.work/85
https://okky.kr/article/717260